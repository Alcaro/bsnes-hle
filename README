bsnes-mercury
-------------

bsnes-mercury is a fork of higan, aiming to restore some useful features that have been removed, as well as improving performance a bit.
Maximum accuracy is still uncompromisable; anything that affects accurcy is optional and off by default.

Changes to upstream:
- The biggest change is getting the interface sane, which is accomplished through libretro.
- Another change is the restoration of HLE emulation of some special chips, to improve performance and reduce reliance on those chip ROMs (they're not really easy to find).
- A seven-line function in sfc/memory/memory-inline.hpp was replaced, which speeds up ROM load by roughly a factor 6 (1.2s -> 0.2s). As far as I know, an equivalent change is also included in bsnes v095.
- The ROM checksum is not calculated under libretro. This lowers ROM load time by 6-20% depending on the ROM size.
- A section in sfc/memory/memory.cpp was specialized for the common, easy, case. While this only speeds up ROM loading by about 7% out of 120ms, it trims off 30% of 4700ms under Valgrind.
- A fast path was added to various parts of the CPU bus, improving framerate by about 2.5%.

Todo list:
- Spam alwaysinline across the PPU, and other components. If memory serves, that gave a nice speed boost on v082; probably still does.
- Is the compat core's DSP identical to that of the accuracy core, but a bit faster?

The name is because metals are shiny, like the accuracy promises of bsnes, and mercury is the fastest metal. And like byuu's constantly changing interfaces, mercury is harmful to your brain :)
